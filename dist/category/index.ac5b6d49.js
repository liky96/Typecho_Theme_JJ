"use strict";(self.webpackChunkjj=self.webpackChunkjj||[]).push([[34],{60700:function(t,e,s){var n=s(68420),o=s(27344),i=s(94473),a=s.n(i),r=s(19755),l=s.n(r),h=s(35506),c=s(14226),w=s(21092),u=s(40808),p=s(28409),d=s(52225),v=s(44845),f=s(51942),g=s.n(f),m=function(){function t(){var e=this,s=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};(0,n.Z)(this,t),(0,v.Z)(this,"options",{status:!1,wrapNotExist:!1}),(0,v.Z)(this,"removeTranstionClass",(function(){e.$wrap.classList.remove("mu-category-collapse"),e.$wrap.removeEventListener("transitionend",e.removeTranstionClass)})),g()(this.options,s),this.init()}return(0,o.Z)(t,[{key:"init",value:function(){if(this.$wrap=document.querySelector(this.options.wrap),!this.$wrap){if(this.options.wrapNotExist)return;throw new Error("CategoryCollapse：容器元素不存在！")}if(this.$content=document.querySelector(this.options.content),!this.$content)throw new Error("CategoryCollapse：内容元素不存在！");if(this.$trigger=document.querySelector(this.options.trigger),!this.$trigger)throw new Error("CategoryCollapse：触发元素不存在！");if(this.$open=this.$wrap.querySelector(".open"),!this.$open)throw new Error("CategoryCollapse：展开按钮不存在！");if(this.$close=this.$wrap.querySelector(".close"),!this.$close)throw new Error("CategoryCollapse：关闭按钮不存在！");this.$trigger.addEventListener("click",this.onToggle.bind(this))}},{key:"onToggle",value:function(){this.options.status?(this.options.status=!1,this.showCollapse(),this.$wrap.addEventListener("transitionend",this.removeTranstionClass),this.$wrap.classList.add("mu-category-collapse"),this.$wrap.style.height=""):(this.options.status=!0,this.hideCollapse(),this.$wrap.addEventListener("transitionend",this.removeTranstionClass),this.$wrap.classList.add("mu-category-collapse"),this.$wrap.style.height=this.$content.offsetHeight+"px")}},{key:"showCollapse",value:function(){this.$close.classList.contains("show")&&this.$close.classList.remove("show"),this.$open.classList.contains("show")||this.$open.classList.add("show")}},{key:"hideCollapse",value:function(){this.$open.classList.contains("show")&&this.$open.classList.remove("show"),this.$close.classList.contains("show")||this.$close.classList.add("show")}}]),t}(),$=s(66008),y=s(53267),C=s(98959);l()((function(){new h.$t,new h.ol,new h.xr,new c.J,new h.iO,new c.a;var t=l()("#mini-article-skeleton-wrap"),e=l()("#article-list-wrap"),s=null;e.on("click",(function(t){var e=(0,w.VS)("min-article-card",t.target);if(e){var s=e.dataset.link;s&&window.open(s,"_self")}}));var i=l()("#main .auto-load"),r=function(){function t(){(0,n.Z)(this,t)}return(0,o.Z)(t,null,[{key:"show",value:function(){return i.hasClass("show")||i.addClass("show"),t}},{key:"hide",value:function(){return i.hasClass("show")&&i.removeClass("show"),t}},{key:"noMore",value:function(){return i.html('<span class="no-more">没有更多了</span>'),t}}]),t}();function v(t){var n=a()(i).call(i,".next").attr("href");if(n){r.show();var o={url:n,method:"get"};(0,d.Z)(o).then((function(n){var o=l()("<div></div>").html(n);if(e.append(a()(o).call(o,"#article-list-wrap .min-article-card")),a()(o).call(o,".auto-load .next").length){var h=a()(o).call(o,".auto-load");i.replaceWith(h),i=h,t&&t(),s&&s.add(a()(e).call(e,"img[data-src]"))}else r.noMore().show()}))["catch"]((function(e){console.log(e),t&&t()}))}else r.noMore().show()}new m({wrap:"#category-nav-children .children-wrap",content:"#category-nav-children .children-content",trigger:"#category-nav-children .more",wrapNotExist:!0}),new $.Z,new y.Z,new C.Z({el:["#main .recent-comment .recent-body"]}),setTimeout((function(){t.length&&t.remove(),e.hasClass("hide")&&e.removeClass("hide"),s=new u.Z({el:"#article-list-wrap img"}),a()(i).call(i,".next").length||r.noMore().show(),new p.Z({callback:v})}),300)}))}},function(t){t.O(0,[736,592],(function(){return e=60700,t(t.s=e);var e}));t.O()}]);
//# sourceMappingURL=index.ac5b6d49.js.map