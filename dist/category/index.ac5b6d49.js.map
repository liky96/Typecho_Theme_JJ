{"version":3,"file":"category/index.ac5b6d49.js","mappings":"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","sources":["webpack://jj/./src/scripts/category-collapse.js","webpack://jj/./src/pages/category/index.js"],"sourcesContent":["/*\r\n * @Author: mulingyuer\r\n * @Date: 2021-07-25 21:21:44\r\n * @LastEditTime: 2021-07-25 22:02:21\r\n * @LastEditors: mulingyuer\r\n * @Description: 折叠\r\n * @FilePath: \\JJ\\src\\scripts\\category-collapse.js\r\n * 怎么可能会有bug！！！\r\n */\r\n\r\nexport default class CategoryCollapse {\r\n  options = {\r\n    status: false,  //折叠状态\r\n    wrapNotExist: false, //是否允许容器不存在\r\n  };\r\n  constructor(options = {}) {\r\n    Object.assign(this.options, options);\r\n\r\n\r\n    this.init();\r\n  }\r\n\r\n  //初始化\r\n  init() {\r\n    //容器\r\n    this.$wrap = document.querySelector(this.options.wrap);\r\n\r\n    if (!this.$wrap) {\r\n      if (this.options.wrapNotExist) return; //允许不存在就跳过所有\r\n      throw new Error(\"CategoryCollapse：容器元素不存在！\")\r\n    }\r\n\r\n    //内容\r\n    this.$content = document.querySelector(this.options.content);\r\n    if (!this.$content) throw new Error(\"CategoryCollapse：内容元素不存在！\")\r\n    //触发器\r\n    this.$trigger = document.querySelector(this.options.trigger);\r\n    if (!this.$trigger) throw new Error(\"CategoryCollapse：触发元素不存在！\")\r\n    //展开按钮\r\n    this.$open = this.$wrap.querySelector(\".open\");\r\n    if (!this.$open) throw new Error(\"CategoryCollapse：展开按钮不存在！\")\r\n    //关闭按钮\r\n    this.$close = this.$wrap.querySelector(\".close\");\r\n    if (!this.$close) throw new Error(\"CategoryCollapse：关闭按钮不存在！\")\r\n\r\n    //添加事件\r\n    this.$trigger.addEventListener(\"click\", this.onToggle.bind(this));\r\n  }\r\n\r\n\r\n  //切换事件\r\n  onToggle() {\r\n    if (!this.options.status) {  //展开\r\n      this.options.status = true; //更新状态\r\n\r\n      this.hideCollapse();\r\n\r\n      this.$wrap.addEventListener(\"transitionend\", this.removeTranstionClass); //动画完成移除class\r\n\r\n      this.$wrap.classList.add(\"mu-category-collapse\");\r\n      this.$wrap.style.height = this.$content.offsetHeight + \"px\";\r\n\r\n    } else {  //收缩\r\n      this.options.status = false; //更新状态\r\n\r\n      this.showCollapse();\r\n\r\n      //动画完成移除class\r\n      this.$wrap.addEventListener(\"transitionend\", this.removeTranstionClass);\r\n      this.$wrap.classList.add(\"mu-category-collapse\");\r\n      this.$wrap.style.height = \"\";\r\n\r\n    }\r\n  }\r\n\r\n  //移除动画class\r\n  removeTranstionClass = () => {\r\n    this.$wrap.classList.remove(\"mu-category-collapse\");\r\n    this.$wrap.removeEventListener(\"transitionend\", this.removeTranstionClass);\r\n  }\r\n\r\n  //显示展开\r\n  showCollapse() {\r\n    if (this.$close.classList.contains(\"show\")) this.$close.classList.remove(\"show\");\r\n    if (!this.$open.classList.contains(\"show\")) this.$open.classList.add(\"show\");\r\n  }\r\n\r\n  //关闭展开\r\n  hideCollapse() {\r\n    if (this.$open.classList.contains(\"show\")) this.$open.classList.remove(\"show\");\r\n    if (!this.$close.classList.contains(\"show\")) this.$close.classList.add(\"show\");\r\n  }\r\n\r\n}","/*\r\n * @Author: mulingyuer\r\n * @Date: 2021-07-04 16:55:04\r\n * @LastEditTime: 2021-08-08 15:52:26\r\n * @LastEditors: mulingyuer\r\n * @Description: 首页\r\n * @FilePath: \\JJ\\src\\pages\\category\\index.js\r\n * 怎么可能会有bug！！！\r\n */\r\nimport \"./index.scss\";\r\n\r\n//js\r\nimport $ from \"jquery\";\r\nimport { MainNav, Search, BlogMenu, CollectHeader } from \"@/scripts/header\"; //header\r\nimport { Nav, CollectNav } from \"@/scripts/nav\";\r\nimport { specifyParentClass } from \"@/utils/tool\";\r\nimport ImgLazyload from \"@/packages/img-lazyload\";\r\nimport IllimitedLoad from \"@/packages/illimited-load\";\r\nimport api from \"@/packages/request\";\r\nimport CategoryCollapse from \"@/scripts/category-collapse\";\r\nimport LoginDialog from \"@/scripts/login-dialog\";\r\nimport BackTop from \"@/scripts/back-top\";\r\nimport FaceReplace from \"@/scripts/face-replace\";\r\n\r\n\r\n$(function () {\r\n  //导航菜单\r\n  const mianNav = new MainNav();\r\n  //搜索\r\n  const search = new Search();\r\n  //博客功能按钮\r\n  const blogMenu = new BlogMenu();\r\n\r\n  //导航按钮\r\n  const nav = new Nav();\r\n\r\n  //收起动画\r\n  const collectHeader = new CollectHeader();\r\n  const collectNav = new CollectNav();\r\n\r\n  //left内容  \r\n  const $skeleton = $('#mini-article-skeleton-wrap');\r\n  const $articleList = $('#article-list-wrap');\r\n  let imgLazy = null;  //图片懒加载实例\r\n\r\n\r\n  //文章卡片点击事件\r\n  $articleList.on('click', (event) => {\r\n    const articleCard = specifyParentClass('min-article-card', event.target);\r\n    if (!articleCard) return;  //不存在就跳过\r\n\r\n    const link = articleCard.dataset.link;\r\n    link && window.open(link, \"_self\");\r\n  })\r\n\r\n\r\n  //无限加载\r\n  let $autoLoad = $(\"#main .auto-load\");\r\n\r\n  //auto-load操作\r\n  class AutoLoadOperate {\r\n    static show() {\r\n      if (!$autoLoad.hasClass(\"show\")) $autoLoad.addClass(\"show\");\r\n      return AutoLoadOperate;\r\n    }\r\n\r\n    static hide() {\r\n      if ($autoLoad.hasClass(\"show\")) $autoLoad.removeClass(\"show\");\r\n      return AutoLoadOperate;\r\n    }\r\n\r\n    static noMore() {\r\n      $autoLoad.html('<span class=\"no-more\">没有更多了</span>');\r\n      return AutoLoadOperate;\r\n    }\r\n  }\r\n\r\n  function articleLoad(resetFn) {\r\n    const nextLink = $autoLoad.find(\".next\").attr(\"href\");\r\n    if (!nextLink) {\r\n      AutoLoadOperate.noMore().show();\r\n    } else {\r\n      AutoLoadOperate.show();\r\n      //请求\r\n      const postData = { url: nextLink, method: \"get\" };\r\n      api(postData).then(res => {\r\n        let $content = $(\"<div></div>\").html(res);  //创建dom\r\n        $articleList.append($content.find(\"#article-list-wrap .min-article-card\")); //插入dom\r\n\r\n        //更新auto-load\r\n        const $newNext = $content.find(\".auto-load .next\");\r\n        if ($newNext.length) {\r\n          const $newAutoLoad = $content.find(\".auto-load\");\r\n          $autoLoad.replaceWith($newAutoLoad);\r\n          $autoLoad = $newAutoLoad;\r\n\r\n          //恢复监听\r\n          resetFn && resetFn();\r\n          //图片懒加载\r\n          imgLazy && imgLazy.add($articleList.find(\"img[data-src]\"));\r\n        } else {\r\n          AutoLoadOperate.noMore().show();\r\n        }\r\n\r\n      }).catch(err => {\r\n        console.log(err);\r\n        //恢复监听\r\n        resetFn && resetFn();\r\n      })\r\n    }\r\n  }\r\n\r\n\r\n  //折叠菜单\r\n  new CategoryCollapse({\r\n    wrap: \"#category-nav-children .children-wrap\",\r\n    content: \"#category-nav-children .children-content\",\r\n    trigger: \"#category-nav-children .more\",\r\n    wrapNotExist: true,\r\n  });\r\n\r\n  //登录弹窗\r\n  new LoginDialog();\r\n\r\n  //返回顶部\r\n  new BackTop();\r\n\r\n  //表情替换\r\n  new FaceReplace({ el: [\"#main .recent-comment .recent-body\"] });\r\n\r\n\r\n  //骨架屏\r\n  setTimeout(() => {\r\n    if ($skeleton.length) $skeleton.remove();\r\n    if ($articleList.hasClass(\"hide\")) $articleList.removeClass(\"hide\");\r\n\r\n\r\n    imgLazy = new ImgLazyload({ el: \"#article-list-wrap img\" }); //图片懒加载\r\n\r\n    if (!$autoLoad.find(\".next\").length) AutoLoadOperate.noMore().show();  //首次\r\n    new IllimitedLoad({ callback: articleLoad }); //无线加载\r\n  }, 300)\r\n\r\n\r\n\r\n});\r\n"],"names":["CategoryCollapse","options","status","wrapNotExist","$wrap","classList","remove","removeEventListener","removeTranstionClass","this","init","document","querySelector","wrap","Error","$content","content","$trigger","trigger","$open","$close","addEventListener","onToggle","bind","showCollapse","add","style","height","hideCollapse","offsetHeight","contains","$","MainNav","Search","BlogMenu","Nav","CollectHeader","CollectNav","$skeleton","$articleList","imgLazy","on","event","articleCard","specifyParentClass","target","link","dataset","window","open","$autoLoad","AutoLoadOperate","hasClass","addClass","removeClass","html","articleLoad","resetFn","nextLink","attr","show","postData","url","method","api","then","res","append","length","$newAutoLoad","replaceWith","noMore","catch","err","console","log","LoginDialog","BackTop","FaceReplace","el","setTimeout","ImgLazyload","IllimitedLoad","callback"],"sourceRoot":""}